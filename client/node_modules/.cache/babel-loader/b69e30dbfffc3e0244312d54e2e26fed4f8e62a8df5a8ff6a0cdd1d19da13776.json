{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aaron\\\\Documents\\\\GitHub\\\\projet-olline\\\\client\\\\src\\\\Pages\\\\Panier\\\\Panier.jsx\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport async function AjouterLeProduitAuPanier(idProduit) {\n  // Cette partie fait les vérifications premières pour s'assurer que le localstorage est bien créer\n  // vérifie si les produits sont présents dans le localstorage, si non, sors de la fonction\n  if (!localStorage.getItem(\"listeProduits\")) {\n    return;\n  } else {\n    // vérifie si le panier a été crée, si non, sors car le panier est crée avec la liste des produits\n    if (!localStorage.getItem(\"panier\")) {\n      return;\n    } else {\n      // Va venir chercher la liste des produits existants\n      var grabListeProduits = await JSON.parse(localStorage.getItem(\"ListeProduits\"));\n\n      // Va venir chercher le panier et son contenu\n      var panier = await JSON.parse(localStorage.getItem(\"panier\"));\n\n      // Va contenir les valeurs du produit\n      var produitQuiVaDansLePanier = [\"\"];\n\n      // Va chercher dans la liste des produits si l'id du produit existe dedans\n      for (let i = 0; grabListeProduits[i]; i++) {\n        if (parseInt(grabListeProduits[i].id_products) === idProduit) {\n          produitQuiVaDansLePanier = grabListeProduits[i];\n          produitQuiVaDansLePanier.quantity = 1;\n        }\n      }\n\n      // si le panier est vide, va ajouter directement le produit\n      if (panier.length === 0) {\n        panier.push(produitQuiVaDansLePanier);\n      } else {\n        // variable pour checker si le produit existe déjà dans le panier\n        var checkSiExisteDansLePanier = [];\n\n        // passe une fois dans la liste du panier pour vérifier que le produit est bien dedans\n        for (let i = 0; panier[i]; i++) {\n          if (panier[i].id_products === idProduit) {\n            checkSiExisteDansLePanier[0] = panier[i];\n            produitQuiVaDansLePanier.quantity = panier[i].quantity;\n          }\n        }\n\n        // Si le produit n'as pas été trouvé dans la liste\n        if (checkSiExisteDansLePanier === undefined) {\n          produitQuiVaDansLePanier.quantity += 1;\n          panier.push({\n            produitQuiVaDansLePanier\n          });\n        } else {\n          // change la quantité à +1 si le produit est dans le panier\n          var estDansLePanier = false;\n          for (let i = 0; panier[i]; i++) {\n            if (panier[i].id_products === idProduit) {\n              panier[i].quantity += 1;\n              estDansLePanier = true;\n            }\n          }\n          if (estDansLePanier === false) {\n            panier.push(produitQuiVaDansLePanier);\n          }\n        }\n      }\n    }\n    // Le local storage n'accepte pas d'objet, je transforme donc mon tableau en une string\n    localStorage.setItem(\"panier\", JSON.stringify(panier));\n  }\n}\n_c = AjouterLeProduitAuPanier;\nfunction Panier() {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Panier\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n_c2 = Panier;\nexport default Panier;\nvar _c, _c2;\n$RefreshReg$(_c, \"AjouterLeProduitAuPanier\");\n$RefreshReg$(_c2, \"Panier\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","AjouterLeProduitAuPanier","idProduit","localStorage","getItem","grabListeProduits","JSON","parse","panier","produitQuiVaDansLePanier","i","parseInt","id_products","quantity","length","push","checkSiExisteDansLePanier","undefined","estDansLePanier","setItem","stringify","_c","Panier","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","$RefreshReg$"],"sources":["C:/Users/Aaron/Documents/GitHub/projet-olline/client/src/Pages/Panier/Panier.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios'\r\n\r\n\r\nexport async function AjouterLeProduitAuPanier(idProduit) {\r\n\r\n    // Cette partie fait les vérifications premières pour s'assurer que le localstorage est bien créer\r\n    // vérifie si les produits sont présents dans le localstorage, si non, sors de la fonction\r\n    if (!localStorage.getItem(\"listeProduits\")) {\r\n        return\r\n    } else {\r\n        // vérifie si le panier a été crée, si non, sors car le panier est crée avec la liste des produits\r\n        if (!localStorage.getItem(\"panier\")) {\r\n            return\r\n        } else{\r\n            // Va venir chercher la liste des produits existants\r\n            var grabListeProduits = await JSON.parse(localStorage.getItem(\"ListeProduits\"))\r\n\r\n            // Va venir chercher le panier et son contenu\r\n            var panier = await JSON.parse(localStorage.getItem(\"panier\"))\r\n\r\n\r\n            // Va contenir les valeurs du produit\r\n            var produitQuiVaDansLePanier = [\"\"]\r\n\r\n\r\n            // Va chercher dans la liste des produits si l'id du produit existe dedans\r\n            for(let i = 0; grabListeProduits[i]; i++){\r\n                if(parseInt(grabListeProduits[i].id_products) === idProduit){\r\n                    produitQuiVaDansLePanier = grabListeProduits[i]\r\n                    produitQuiVaDansLePanier.quantity=1\r\n                }\r\n            }\r\n\r\n            // si le panier est vide, va ajouter directement le produit\r\n            if(panier.length === 0){\r\n                panier.push(produitQuiVaDansLePanier)\r\n            }else{\r\n\r\n                // variable pour checker si le produit existe déjà dans le panier\r\n                var checkSiExisteDansLePanier = []\r\n\r\n                // passe une fois dans la liste du panier pour vérifier que le produit est bien dedans\r\n                for(let i = 0; panier[i]; i++){\r\n                    if(panier[i].id_products === idProduit){\r\n                        checkSiExisteDansLePanier[0] = panier[i]\r\n                        produitQuiVaDansLePanier.quantity = panier[i].quantity\r\n                    }\r\n                }\r\n\r\n                // Si le produit n'as pas été trouvé dans la liste\r\n                if(checkSiExisteDansLePanier === undefined){\r\n                    produitQuiVaDansLePanier.quantity += 1\r\n                    panier.push({produitQuiVaDansLePanier})\r\n                } else {\r\n\r\n                    // change la quantité à +1 si le produit est dans le panier\r\n                    var estDansLePanier = false\r\n                    for(let i = 0; panier[i]; i++){\r\n                        if(panier[i].id_products === idProduit){\r\n                            panier[i].quantity +=1\r\n                            estDansLePanier = true\r\n                        }\r\n                    }\r\n                    if(estDansLePanier === false){\r\n                        panier.push(produitQuiVaDansLePanier)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Le local storage n'accepte pas d'objet, je transforme donc mon tableau en une string\r\n        localStorage.setItem(\"panier\", JSON.stringify(panier))\r\n    }\r\n}\r\n\r\nfunction Panier() {\r\n    return (\r\n        <div>Panier</div>\r\n    )\r\n}\r\n\r\nexport default Panier"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}